<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {% load static %}

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{% static 'core/css/navcrud.css' %}">
    <title>Document</title>
</head>

<body>

    <nav id="navbarbody">
        <div class="navbar">
            <div class="logo"> <a href=""><img class="logo" src="{%static 'core/img/logo_icon.png' %}"
                        alt="">Servitel</a>
            </div>
            <ul class="links">
                <li><a href="">Cámaras</a></li>
                <li><a href="">Accesorios</a></li>
                <li><a href="">Kits</a></li>
                <div class="items">
                    <a href="#" class="action_btn"><i class="fa-solid fa-user"></i></a>
                    <a href="#" class="action_btn"><i class="fa-solid fa-magnifying-glass"></i></a>
                    <a href="#" class="action_btn"><i class="fa-solid fa-cart-shopping"></i></a>
                </div>
            </ul>

            <div class="toggle_btn">
                <i class="fa-solid fa-bars"></i>
            </div>
        </div>

        <div class="dropdown_menu">
            <li><a href="">Home</a></li>
            <li><a href="">About</a></li>
            <li><a href="">Services</a></li>
            <li><a href="">Contact</a></li>
            <div class="items">
                <a href="#" class="action_btn"><i class="fa-solid fa-user"></i></a>
                <a href="#" class="action_btn"><i class="fa-solid fa-magnifying-glass"></i></a>
                <a href="#" class="action_btn"><i class="fa-solid fa-cart-shopping"></i></a>
            </div>
    </nav>


    <section id="form" class="container my-4 mx-auto">
        <form class="" action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row">
                <!-- box formulario -->
                <div class="col-7 mx-auto" style="background-color: #e6e6e6;">
                    <div class="row justify-content-center">
                        <!-- inputs y sus labels -->
                        <div class="col-10">
                            <div class="row align-items-center mx-auto mb-3">
                                <!-- NOMBRE -->
                                <div class="col-2 text-center">
                                    <label for="idNombre" class="form-label">Nombre</label>
                                </div>
                                <div class="col-10">
                                    <div class="input-group">
                                        <input type="text" class="form-control rounded-4" id="idNombre" name="nombre">
                                    </div>
                                    <!-- <small id="error_nombre_min" class="text-danger">Debes ingresar tu nombre</small>
                                    <small id="error_nombre_max" class="text-danger">El nombre excede el largo máximo
                                        permitido</small> -->
                                </div>
                            </div>
                        </div>
                        <div class="col-10">
                            <div class="row align-items-center mx-auto mb-3">
                                <!-- MODELO -->
                                <div class="col-2 text-center">
                                    <label for="idModelo" class="form-label">Modelo</label>
                                </div>
                                <div class="col-10">
                                    <div class="input-group">
                                        <input type="text" class="form-control rounded-4" id="idModelo" name="modelo">
                                    </div>
                                    <!-- <small id="error_nombre_min" class="text-danger">Debes ingresar tu nombre</small>
                                    <small id="error_nombre_max" class="text-danger">El nombre excede el largo máximo
                                        permitido</small> -->
                                </div>
                            </div>
                        </div>
                        <div class="col-10">
                            <div class="row align-items-center mx-auto mb-3">
                                <!-- MARCA -->
                                <div class="col-2 text-center">
                                    <label for="idMarca" class="form-label">Marca</label>
                                </div>
                                <div class="col-10">
                                    <div class="input-group">
                                        <input type="text" class="form-control rounded-4" id="idMarca" name="marca">
                                    </div>
                                    <!-- <small id="error_nombre_min" class="text-danger">Debes ingresar tu nombre</small>
                                    <small id="error_nombre_max" class="text-danger">El nombre excede el largo máximo
                                        permitido</small> -->
                                </div>
                            </div>
                        </div>

                        <div class="col-10">
                            <div class="row justify-content-center mx-auto">
                                <!-- fila con 2 inputs -->
                                <div class="col-8 px-0">
                                    <div class="row justify-content-center align-items-center mb-3">
                                        <!-- VALOR -->
                                        <div class="col-2 text-center">
                                            <label for="idValor" class="form-label">Valor</label>
                                        </div>
                                        <div class="col-8 ">
                                            <div class="input-group">
                                                <input id="idValor" type="text" class="form-control rounded-4"
                                                    placeholder="$0" name="valor">
                                            </div>
                                            <!-- <small id="error_nombre_min" class="text-danger">Debes ingresar un valor para el
                                                producto</small>
                                            <small id="error_nombre_max" class="text-danger">El nombre excede el largo
                                                máximo
                                                permitido</small> -->
                                        </div>
                                    </div>
                                </div>

                                <div class="col-4">
                                    <div class="row align-items-center mb-3">
                                        <!-- STOCK -->
                                        <div class="col-4 text-center">
                                            <label for="idStock" class="form-label">Stock</label>
                                        </div>
                                        <div class="col-8 align-self-end">
                                            <div class="input-group">
                                                <input min="0" type="number" class="form-control rounded-4" id="idStock"
                                                    name="stock">
                                            </div>
                                            <!-- <small id="error_nombre_min" class="text-danger">Debes ingresar tu
                                                nombre</small>
                                            <small id="error_nombre_max" class="text-danger">El nombre excede el largo
                                                máximo
                                                permitido</small> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- IMAGEN -->
                        <div class="col-10">
                            <div class="row align-items-center mx-auto mb-3">
                                <div class="col-2 text-center">
                                    <label for="idImagen" class="form-label">Imagen</label>
                                </div>
                                <div class="col-10">
                                    <div class="input-group mb-3">
                                        <input type="file" class="form-control rounded-4" id="idImagen" name="imagen">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--  TIPO -->
                        <div class="col-10">
                            <div class="row align-items-center mx-auto mb-3">
                                <div class="col-2 text-center">
                                    <label for="idTipoProduct" class="form-label">Tipo</label>
                                </div>
                                <div class="col-10">
                                    <select name="tipoProduct" id="idTipoProduct" class="form-select rounded-4">
                                        <option selected disabled value="null">Seleccione tipo de producto</option>
                                        <option value="1">Santiago</option>
                                        <option value="2">Providencia</option>
                                        <option value="3">Ñuñoa</option>
                                        <option value="4">Recoleta</option>
                                        <option value="5">Estación central</option>
                                        <option value="6">Recoleta</option>
                                    </select>
                                    <!-- <small id="error_tipo" class="text-danger">Debes seleccionar un tipo</small> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>




            <div class="col-12 my-4">
                <button type="submit" class="btn btn-primary">Sign in</button>
            </div>
        </form>
    </section>

    <script>
        const toggleBtn = document.querySelector('.toggle_btn');
        const toggleBtnIcon = document.querySelector('.toggle_btn i');
        const dropdownMenu = document.querySelector('.dropdown_menu');

        toggleBtn.onclick = function () {
            dropdownMenu.classList.toggle('open')
            const isOpen = dropdownMenu.classList.contains('open')

            toggleBtnIcon.classList = isOpen ? 'fa-solid fa-xmark' : 'fa-solid fa-bars'
        };

    </script>

    <script>
        function formatChileanPesos(value) {
            const numberValue = parseFloat(value.replace(/\D/g, ''));
            if (isNaN(numberValue)) {
                return '';
            }
            const formattedValue = new Intl.NumberFormat('es-CL', {
                style: 'currency',
                currency: 'CLP',
                minimumFractionDigits: 0,
            }).format(numberValue);
            return formattedValue;
        }

        document.addEventListener('DOMContentLoaded', function () {
            const inputElement = document.getElementById('idStock');
            inputElement.addEventListener('input', function () {
                const rawValue = inputElement.value;
                const formattedValue = formatChileanPesos(rawValue);
                inputElement.value = formattedValue;
            });

            // Add a delay to format the input value after typing
            inputElement.addEventListener('input', function () {
                setTimeout(() => {
                    const rawValue = inputElement.value;
                    const formattedValue = formatChileanPesos(rawValue);
                    inputElement.value = formattedValue;
                }, 1);
            });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>

</html>